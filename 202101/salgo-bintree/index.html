<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>数据结构与算法之二叉树 - Bing's Blog</title><meta name=keywords content="[Life bbing bing hugo Blog C++ LoveIt]"><meta name=Description content="个人技术博客"><meta property="og:title" content="数据结构与算法之二叉树"><meta property="og:description" content="什么是二叉树
二叉树的知识点, 需要有链表的基础知识, 一般二叉树的结构如图示:

        
    二叉树
    
二叉树是一种树状结构."><meta property="og:type" content="article"><meta property="og:url" content="https://imcbc.cn/202101/salgo-bintree/"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/caibingcheng/resources@main/images/13bOkrO.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-01-25T11:18:52+08:00"><meta property="article:modified_time" content="2021-01-25T19:22:20+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://cdn.jsdelivr.net/gh/caibingcheng/resources@main/images/13bOkrO.png"><meta name=twitter:title content="数据结构与算法之二叉树"><meta name=twitter:description content="什么是二叉树
二叉树的知识点, 需要有链表的基础知识, 一般二叉树的结构如图示:

        
    二叉树
    
二叉树是一种树状结构."><meta name=application-name content="Bing's Blog"><meta name=apple-mobile-web-app-title content="Bing's Blog"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://imcbc.cn/202101/salgo-bintree/><link rel=prev href=https://imcbc.cn/202101/salgo-mstack/><link rel=next href=https://imcbc.cn/202101/purec-stdarg/><link rel=stylesheet href=https://fastly.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://fastly.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://fastly.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><link rel=stylesheet href=https://fastly.jsdelivr.net/gh/Albejr/jquery-albe-timeline/templates/simple/style-albe-timeline.css><link rel=stylesheet href=https://fastly.jsdelivr.net/gh/caibingcheng/orlike@client/orlike.min.css><link rel=stylesheet href=/css/custom.css><meta name=google-site-verification content="xy1bCgQPV_H3_o2XD34o2mIByQxmzkV3GPOfhXg_mTM"><meta name=msvalidate.01 content="c81a65b6344571786df543a56c7bbe18"><meta name=baidu-site-verification content="code-WcyzWjgFYo"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"数据结构与算法之二叉树","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/imcbc.cn\/202101\/salgo-bintree\/"},"image":["https:\/\/imcbc.cn\/android-chrome-192x192.png"],"genre":"posts","keywords":"Cpp, 二叉树","wordcount":1769,"url":"https:\/\/imcbc.cn\/202101\/salgo-bintree\/","datePublished":"2021-01-25T11:18:52+08:00","dateModified":"2021-01-25T19:22:20+08:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"Bing","logo":"https:\/\/imcbc.cn\/android-chrome-192x192.png"},"author":{"@type":"Person","name":"bbing"},"description":""}</script></head><body header-desktop=normal header-mobile=normal><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><a href=https://github.com/caibingcheng/ class=github-corner aria-label="View source on GitHub"><svg width="3.5rem" height="3.5rem" viewBox="0 0 250 250" style="fill:#151513;color:#fff;position:absolute;top:0;border:0;left:0;transform:scale(-1,1)" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div class=header-title><a href=/ title="Bing's Blog">Bing's Blog</a></div><div class=menu><div class=menu-inner><div class=dropdown><a href=/posts/ class="menu-item menu-more dropbtn" title><i class='fas fa fa-archive'></i> 归档</a><div class="menu-more-content dropdown-content"><a href=/tags/ title><i class='fas fa fa-tag'></i> 标签 </a><a href=/categories/ title><i class='fas fa fa-th'></i> 分类</a></div></div><a class=menu-item href=/friends/><i class='fas fa fa-users'></i> 友链</a><div class=dropdown><a href=javascript:void(0); class="menu-item menu-more dropbtn" title><i class='fas fa fa-angle-double-down'></i> 更多</a><div class="menu-more-content dropdown-content"><a href=/tools/ title><i class='fas fa fa-cubes'></i> 工具 </a><a href=/about/ title><i class='fas fa fa-address-card'></i> 关于 </a><a href=/timeline/ title><i class='fas fa fa-building'></i> 建站 </a><a href=/index.xml/ title><i class='fas fa fa-rss'></i> RSS</a></div></div><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=搜索文章内容 id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=https://travellings.link target=_blank class=menu-item rel=noopener title=开往-友链接力><i class='fas fa-fw fa-subway'></i></a>
<a href=https://rssblog.cn/bbing class=menu-item target=_blank rel=noopener title=RSSBlog><i class='fas fa-fw fa-inbox'></i></a>
<a href=https://www.foreverblog.cn/go.html class=menu-item target=_blank rel=noopener title=穿梭虫洞><i class="fas fa-fw fa-life-ring" title=穿梭虫洞-随机访问十年之约友链博客></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Bing's Blog">Bing's Blog</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章内容 id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></div><a href=/posts/ class=menu-item title><i class='fas fa fa-archive'></i> 归档</a>
<a href=/tags/ class=menu-item title><i class='fas fa fa-tag'></i> 标签</a>
<a href=/categories/ class=menu-item title><i class='fas fa fa-th'></i> 分类</a>
<a class=menu-item href=/friends/><i class='fas fa fa-users'></i> 友链</a>
<a href=/tools/ class=menu-item title><i class='fas fa fa-cubes'></i> 工具</a>
<a href=/about/ class=menu-item title><i class='fas fa fa-address-card'></i> 关于</a>
<a href=/timeline/ class=menu-item title><i class='fas fa fa-building'></i> 建站</a>
<a href=/index.xml/ class=menu-item title><i class='fas fa fa-rss'></i> RSS</a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class=single-title>数据结构与算法之二叉树<sup>
<a id=reader-button-title title=阅读模式><i class="fa fa-book fa-fw"></i></a></sup></h1><div class=post-meta><div class=post-meta-line></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-01-25>2021-01-25</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 1769 字&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 4 分钟&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#什么是二叉树>什么是二叉树</a></li><li><a href=#完全二叉树>完全二叉树</a><ul><li><a href=#完全二叉树顺序存储>完全二叉树顺序存储</a><ul><li><a href=#满二叉树>满二叉树</a></li><li><a href=#完全二叉树-1>完全二叉树</a></li></ul></li></ul></li></ul></nav></div></div><div class=content id=content><h2 id=什么是二叉树>什么是二叉树</h2><p>二叉树的知识点, 需要有链表的基础知识, 一般二叉树的结构如图示:</p><p><figure><a class=lightgallery href=https://bu.dusays.com/2022/06/26/62b87f294c068.png title=一般二叉树 data-thumbnail=https://bu.dusays.com/2022/06/26/62b87f294c068.png data-sub-html="<h2>二叉树</h2><p>一般二叉树</p>"><img class=lazyload src=/svg/loading.min.svg data-src=https://bu.dusays.com/2022/06/26/62b87f294c068.png data-srcset="https://bu.dusays.com/2022/06/26/62b87f294c068.png, https://bu.dusays.com/2022/06/26/62b87f294c068.png 1.5x, https://bu.dusays.com/2022/06/26/62b87f294c068.png 2x" data-sizes=auto alt=https://bu.dusays.com/2022/06/26/62b87f294c068.png></a><figcaption class=image-caption>二叉树</figcaption></figure></p><p>二叉树是一种树状结构.</p><p>所谓二叉, 就是一个节点最多可以延伸出两个子节点. 对于二叉树的节点一般会有一些固有称呼.
如上图,</p><ul><li>一般会把N1节点叫做"<strong>根结点</strong>&ldquo;或者&rdquo;<strong>root节点</strong>";</li><li>会把N2叫做N1的"<strong>左子节点</strong>", N3叫做N1的"<strong>右子节点</strong>";</li><li>N1则是N2或者N3的"<strong>父节点</strong>&ldquo;或者&rdquo;<strong>parent节点</strong>";</li><li>N2或者N3可以是N2或者N3子树的根结点, 但是不是N1树的根结点;</li><li>同理, 对N4或者N5, N2是他们的父节点, N3是他们的"<strong>叔叔节点</strong>&ldquo;或者&rdquo;<strong>uncle节点</strong>";</li><li>对于N4, N6或者N7这种在末尾的节点, 叫做"<strong>叶子节点</strong>";</li><li>从根结点到叶子节点经历过的最多的节点数叫做"<strong>树的深度</strong>", 所以N1树的深度是4, 节点N1的深度是1(从上往下);</li><li>从叶子结点到根节点经历过的最多的节点数叫做"<strong>树的层数</strong>", 所以N1树的层数是4, 节点N1的层数是4(从下往上);</li></ul><p>一般对于普通的二叉树, 我们可以用链表表示, 比如给定一个二叉树节点的结构体类型</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=k>struct</span> <span class=nc>Node</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>val</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>Node</span> <span class=o>*</span><span class=n>left</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>Node</span> <span class=o>*</span><span class=n>right</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>Node</span><span class=p>()</span> <span class=o>:</span> <span class=n>val</span><span class=p>(</span><span class=mi>0</span><span class=p>),</span> <span class=n>left</span><span class=p>(</span><span class=k>nullptr</span><span class=p>),</span> <span class=n>right</span><span class=p>(</span><span class=k>nullptr</span><span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=n>Node</span><span class=p>(</span><span class=k>const</span> <span class=kt>int</span><span class=o>&amp;</span> <span class=n>v</span><span class=p>)</span> <span class=o>:</span> <span class=n>val</span><span class=p>(</span><span class=n>v</span><span class=p>),</span> <span class=n>left</span><span class=p>(</span><span class=k>nullptr</span><span class=p>),</span> <span class=n>right</span><span class=p>(</span><span class=k>nullptr</span><span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=n>Node</span><span class=p>(</span><span class=k>const</span> <span class=kt>int</span><span class=o>&amp;</span> <span class=n>v</span><span class=p>,</span> <span class=n>Node</span> <span class=o>*</span><span class=n>l</span><span class=p>,</span> <span class=n>Node</span> <span class=o>*</span><span class=n>r</span><span class=p>)</span> <span class=o>:</span> <span class=n>val</span><span class=p>(</span><span class=n>v</span><span class=p>),</span> <span class=n>left</span><span class=p>(</span><span class=n>l</span><span class=p>),</span> <span class=n>right</span><span class=p>(</span><span class=n>r</span><span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>如上链表结构的结构体Node, 至少<strong>占用24Byte</strong>, 而实际数据只有一个int(假设是4Byte), 浪费了较多的空间.</p><blockquote><p>占用24Byte是因为struct会有内存对齐的策略, 比如64位机器上int是4Byte, 但是两个指针是8Byte, 则需要按照8Byte对齐, 所以一共是24Byte</p></blockquote><h2 id=完全二叉树>完全二叉树</h2><p>普通二叉树一般会用链表结构存储, 会多出至少两个成员用来存储其左右孩子节点, 但是有一种比较特殊的二叉树, 可以直接使用顺序结构存储, 不需要存储左右孩子节点的指针; 这就是完全二叉树;</p><p>完全二叉树的结构如下图所示,</p><p><figure><a class=lightgallery href=https://bu.dusays.com/2022/06/26/62b87f294c068.png title=完全二叉树 data-thumbnail=https://bu.dusays.com/2022/06/26/62b87f294c068.png data-sub-html="<h2>完全二叉树/满二叉树</h2><p>完全二叉树</p>"><img class=lazyload src=/svg/loading.min.svg data-src=https://bu.dusays.com/2022/06/26/62b87f294c068.png data-srcset="https://bu.dusays.com/2022/06/26/62b87f294c068.png, https://bu.dusays.com/2022/06/26/62b87f294c068.png 1.5x, https://bu.dusays.com/2022/06/26/62b87f294c068.png 2x" data-sizes=auto alt=https://bu.dusays.com/2022/06/26/62b87f294c068.png></a><figcaption class=image-caption>完全二叉树/满二叉树</figcaption></figure><figure><a class=lightgallery href=https://bu.dusays.com/2022/06/26/62b87f2bc446b.png title=完全二叉树 data-thumbnail=https://bu.dusays.com/2022/06/26/62b87f2bc446b.png data-sub-html="<h2>完全二叉树</h2><p>完全二叉树</p>"><img class=lazyload src=/svg/loading.min.svg data-src=https://bu.dusays.com/2022/06/26/62b87f2bc446b.png data-srcset="https://bu.dusays.com/2022/06/26/62b87f2bc446b.png, https://bu.dusays.com/2022/06/26/62b87f2bc446b.png 1.5x, https://bu.dusays.com/2022/06/26/62b87f2bc446b.png 2x" data-sizes=auto alt=https://bu.dusays.com/2022/06/26/62b87f2bc446b.png></a><figcaption class=image-caption>完全二叉树</figcaption></figure></p><p>上面有两种二叉树, 一种是满二叉树, 一种是完全二叉树;</p><p>满二叉树是指, 除了叶子节点外, 每个节点有且只有两个只节点; 假设一棵满二叉树的深度为h, 有n个节点, 最大层数为k, 则满足:</p><ul><li>满二叉树的节点数 n = 2 ^ h - 1;</li><li>满二叉树第一层的节点树 = 2 * (h - 1);</li></ul><p>假设一棵完全二叉树的深度为h, 有n个节点, 最大层数为k, 则满足, 深度为1 ~ h-1的结点构成满二叉树, 深度h的结点都是叶子结点, 如果是右结点, 则必有左结点.</p><blockquote><p>相当于是一个装了球的盒子, 往左倾斜, 则如果有右边的球(结点), 则必有左边的球(结点).</p></blockquote><ul><li>完全二叉树的节点数 2 ^ h - 1 >= n >= 2 ^ (h - 1) - 1</li><li>完全二叉树第一层的节点树 &lt;= 2 * (h - 1);</li></ul><h3 id=完全二叉树顺序存储>完全二叉树顺序存储</h3><p>区别于一般的链式存储, 顺序存储一般会占用更少的内存空间, 而且连续的内存也可以方便硬件加速.</p><h4 id=满二叉树>满二叉树</h4><p>满二叉树可以说是特殊的完全二叉树(其实完全二叉树是通过满二叉树演变过来的).</p><p>对于满二叉树, 我们从上往下, 从左往右, 给每个结点从0开始按顺序编号.</p><p>对于第k个结点, 可以推算出其左右孩子结点分别是第2*(K + 1) - 1个结点和第2*(K + 1)个结点;</p><p>其父结点是第[(k - 1)/2](取整)个结点;</p><p>所以, 即使我们把满二叉树的所有结点放在顺序结构, 如数组中, 可以非常方便的遍历每个结点的子结点和父结点.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=c1>//0, 1,  2,  3,  4,  5,  6
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[</span><span class=n>N1</span><span class=p>,</span> <span class=n>N2</span><span class=p>,</span> <span class=n>N3</span><span class=p>,</span> <span class=n>N4</span><span class=p>,</span> <span class=n>N5</span><span class=p>,</span> <span class=n>N6</span><span class=p>,</span> <span class=n>N7</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=完全二叉树-1>完全二叉树</h4><p>方便理解, 可以把完全二叉树补充为满二叉树, 也用顺序结构存储. 对于原本不存在的数据(N9-N15), 用null表示; 这样在遍历的时候, 遇到null则表示没有这个数据;</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=c1>//0, 1,  2,  3,  4,  5,  6,  7,  8,    9,    10,   11,   12,   13,   14
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[</span><span class=n>N1</span><span class=p>,</span> <span class=n>N2</span><span class=p>,</span> <span class=n>N3</span><span class=p>,</span> <span class=n>N4</span><span class=p>,</span> <span class=n>N5</span><span class=p>,</span> <span class=n>N6</span><span class=p>,</span> <span class=n>N7</span><span class=p>,</span> <span class=n>N8</span><span class=p>,</span> <span class=n>null</span><span class=p>,</span> <span class=n>null</span><span class=p>,</span> <span class=n>null</span><span class=p>,</span> <span class=n>null</span><span class=p>,</span> <span class=n>null</span><span class=p>,</span> <span class=n>null</span><span class=p>,</span> <span class=n>null</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p><figure><a class=lightgallery href=https://bu.dusays.com/2022/06/26/62b87f2f44996.png title=完全二叉树 data-thumbnail=https://bu.dusays.com/2022/06/26/62b87f2f44996.png data-sub-html="<h2>完全二叉树补充为满二叉树</h2><p>完全二叉树</p>"><img class=lazyload src=/svg/loading.min.svg data-src=https://bu.dusays.com/2022/06/26/62b87f2f44996.png data-srcset="https://bu.dusays.com/2022/06/26/62b87f2f44996.png, https://bu.dusays.com/2022/06/26/62b87f2f44996.png 1.5x, https://bu.dusays.com/2022/06/26/62b87f2f44996.png 2x" data-sizes=auto alt=https://bu.dusays.com/2022/06/26/62b87f2f44996.png></a><figcaption class=image-caption>完全二叉树补充为满二叉树</figcaption></figure></p><p>实际上, 这些null的数据都在数组的末尾, 进一步简化, 可以把这些null数据都去掉, 仅保存完全二叉树中有效的数据.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=c1>//0, 1,  2,  3,  4,  5,  6,  7
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[</span><span class=n>N1</span><span class=p>,</span> <span class=n>N2</span><span class=p>,</span> <span class=n>N3</span><span class=p>,</span> <span class=n>N4</span><span class=p>,</span> <span class=n>N5</span><span class=p>,</span> <span class=n>N6</span><span class=p>,</span> <span class=n>N7</span><span class=p>,</span> <span class=n>N8</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>此时, 在遍历父结点或者子结点是, 只需要判断当前结点的下标或者子结点的下标是否在数组的大小范围内即可;</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=kt>int</span> <span class=n>ppos</span> <span class=o>=</span> <span class=p>(</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=o>&gt;&gt;</span> <span class=mi>1</span><span class=p>;</span>  <span class=c1>//父结点下标
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>clpos</span> <span class=o>=</span> <span class=p>((</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=mi>1</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>  <span class=c1>//左孩子下标
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>crpos</span> <span class=o>=</span> <span class=p>(</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=mi>1</span><span class=p>;</span>        <span class=c1>//右孩子下标
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>bool</span> <span class=n>ppos_ok</span> <span class=o>=</span> <span class=p>(</span><span class=mi>0</span> <span class=o>&lt;=</span> <span class=n>i</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=p>(</span><span class=n>i</span> <span class=o>&lt;</span> <span class=n>lsize</span><span class=p>);</span>             <span class=c1>//父结点存在
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>bool</span> <span class=n>clpos_ok</span> <span class=o>=</span> <span class=p>(</span><span class=mi>0</span> <span class=o>&lt;=</span> <span class=n>clpos</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=p>(</span><span class=n>clpos</span> <span class=o>&lt;</span> <span class=n>lsize</span><span class=p>);</span>    <span class=c1>//左孩子存在
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>bool</span> <span class=n>crpos_ok</span> <span class=o>=</span> <span class=p>(</span><span class=mi>0</span> <span class=o>&lt;=</span> <span class=n>crpos</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=p>(</span><span class=n>crpos</span> <span class=o>&lt;</span> <span class=n>lsize</span><span class=p>);</span>    <span class=c1>//右孩子存在
</span></span></span></code></pre></td></tr></table></div></div></div><div class=post-footer id=post-footer><div class=orlike-box></div><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2021-01-25</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></div><div class=post-info-more><section><i class="fas fa-fw fa-th"></i>&nbsp;<a href=/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/>数据结构与算法</a></section><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/cpp/>Cpp</a>,&nbsp;<a href=/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/>二叉树</a></section></div><div class=post-nav><a href=/202101/salgo-mstack/ class=prev rel=prev title=数据结构与算法之单调栈><i class="fas fa-angle-left fa-fw"></i>数据结构与算法之单调栈</a>
<a href=/202101/purec-stdarg/ class=next rel=next title=C里面的变长参数>C里面的变长参数<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=my-random-posts><div class=loadingThree><span></span>
<span></span>
<span></span>
<span></span>
<span></span></div></div><div id=comments><div id=giscus class=comment></div><script src=https://giscus.app/client.js data-repo=caibingcheng/comment data-repo-id=R_kgDOHgda4w data-category=Announcements data-category-id=DIC_kwDOHgda484CTfDe data-mapping=og:title data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=/css/giscus.css data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/>giscus</a>.</noscript></div></article></div></main><footer class=footer><hr style=opacity:.2><div class=footer-container><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2020 - 2024</span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span><span class=icp-splitter>&nbsp;|&nbsp;</span><br class=icp-br><span class=icp><a href="https://icp.gov.moe/?keyword=20222231" target=_blank>萌ICP备20222231号</a></span></div><div class=footer-line><a href=https://wiki.imcbc.cn target=_blank rel=noopener title="Bing's Wiki">Wiki</a>
&nbsp;|&nbsp;
<a href=https://rssblog.cn target=_blank rel=noopener title=RSSBlog>RSSBlog</a>
&nbsp;|&nbsp;
<a href=https://travellings.link target=_blank rel=noopener title=开往-友链接力>开往-友链接力</a>
&nbsp;|&nbsp;
<a href=https://www.foreverblog.cn/go.html target=_blank>穿梭虫洞</a></div><div class=footer-line><script>var build_date="2024-03-05T21:35:50+08:00"</script>已运行
<span id=run-time></span>
&nbsp;|&nbsp;
构建于
<span id=build-time></span>&nbsp;前</div><div class=footer-line><script async src=https://npm.elemecdn.com/penndu@1.0.0/bsz.js></script>
共计
<span id=busuanzi_value_site_uv></span>&nbsp;访客
&nbsp;|&nbsp;
<span id=busuanzi_value_site_pv></span>&nbsp;访问
&nbsp;|&nbsp;
256K&nbsp;字</div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw"></i>
</a><a id=reader-button class=fixed-button title=阅读模式><i class="fa fa-book fa-fw"></i></a></div><link rel=stylesheet href=https://fastly.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/css/lightgallery.min.css><link rel=stylesheet href=https://fastly.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css><link rel=stylesheet href=https://fastly.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.css><script type=text/javascript src=https://cdn.staticfile.org/jquery/3.6.0/jquery.min.js></script><script type=text/javascript src=https://fastly.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://fastly.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://fastly.jsdelivr.net/npm/algoliasearch@4.2.0/dist/algoliasearch-lite.umd.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=https://fastly.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/js/lightgallery.min.js></script><script type=text/javascript src=https://fastly.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js></script><script type=text/javascript src=https://fastly.jsdelivr.net/npm/lg-zoom.js@1.2.0/dist/lg-zoom.min.js></script><script type=text/javascript src=https://fastly.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript src=https://fastly.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js></script><script type=text/javascript src=https://fastly.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://fastly.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://fastly.jsdelivr.net/npm/katex@0.11.1/dist/contrib/mhchem.min.js></script><script type=text/javascript src=https://fastly.jsdelivr.net/gh/Albejr/jquery-albe-timeline/jquery-albe-timeline.min.js></script><script type=text/javascript src=https://fastly.jsdelivr.net/gh/caibingcheng/orlike@client/orlike.min.js></script><script type=text/javascript src=/js/custom.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:50},comment:{},lightGallery:{actualSize:!1,exThumbImage:"data-thumbnail",hideBarsDelay:2e3,selector:".lightgallery",speed:400,thumbContHeight:80,thumbWidth:80,thumbnail:!0},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{algoliaAppID:"JMTHQS1VUU",algoliaIndex:"blog-bbing",algoliaSearchKey:"0dd43732743475449c844c0d0f21366a",highlightTag:"em",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"algolia"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>